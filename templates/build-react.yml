parameters:
  - name: nodeVersion
    type: string
    default: '20.x'
    
steps:
- task: NodeTool@0
  displayName: Install NodeJS
  inputs:
    versionSpec: '${{ parameters.nodeVersion }}'
- script: |
    npm install
  
- script: |
    npm run build --if-present
  displayName: 'npm run build'

- task: PublishBuildArtifacts@1
  inputs:
    PathtoPublish: '$(System.DefaultWorkingDirectory)/build'
    ArtifactName: 'react-build'
    publishLocation: 'Container'
  displayName: 'Publish React Build Artifact'
  
